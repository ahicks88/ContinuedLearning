Functional programming: from theory to practice